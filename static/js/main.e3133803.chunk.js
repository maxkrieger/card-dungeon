(this["webpackJsonpcard-dungeon"]=this["webpackJsonpcard-dungeon"]||[]).push([[0],{34:function(e,t){e.exports="data:image/png;base64,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"},40:function(e,t,a){e.exports=a(78)},45:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var c,n=a(0),l=a.n(n),A=a(6),i=a.n(A),o=(a(45),a(5)),r=a(2),d=a(13),u=a(33),m=a.n(u),s=(a(59),a(60),a(9)),b=a(8),g=a.n(b),p=a(34),y=a.n(p);!function(e){e[e.YOUTUBE=0]="YOUTUBE",e[e.NONE=1]="NONE"}(c||(c={}));var h,I={overflow:"scroll",borderRight:"1px solid black",maxWidth:"300px",flexBasis:"200px"},k=function(e){var t=e.show,a=e.onClose,A=e.dispatch,i=Object(n.useState)(c.NONE),r=Object(o.a)(i,2),d=r[0],u=r[1],m=Object(n.useState)(""),b=Object(o.a)(m,2),p=b[0],h=b[1],k=Object(n.useCallback)((function(e){e.preventDefault(),A({kind:"add_card",card:{kind:"youtube",title:"video",icon:g.a,uri:p,layout:{x:0,y:0,i:Math.random().toString(),w:2,h:2}}}),a(),h("")}),[A,p,a]);return l.a.createElement(s.b,{style:{background:"none"},isOpen:t,onDismiss:a},l.a.createElement(s.a,{style:{boxShadow:"10px 10px hsla(0, 0%, 0%, 0.5)",fontFamily:'"Alagard"',padding:0,minHeight:"300px",display:"flex",flexDirection:"column"}},l.a.createElement("div",{style:{width:"100%",backgroundColor:Z,userSelect:"none"}},l.a.createElement("img",{src:y.a,width:25}),"spells"),l.a.createElement("div",{style:{width:"100%",display:"flex",overflow:"hidden",alignItems:"stretch",flexGrow:1}},l.a.createElement("div",{style:I},l.a.createElement("div",{style:d===c.YOUTUBE?{color:"#FFFFFF",backgroundColor:"#000000"}:{color:"#000000",backgroundColor:"#FFFFFF"},onClick:function(){return u(c.YOUTUBE)}},l.a.createElement("img",{src:g.a,width:30})," youtube ",">")),l.a.createElement("div",{style:I},d===c.YOUTUBE?l.a.createElement("div",null,l.a.createElement("form",{onSubmit:k},l.a.createElement("input",{type:"url",value:p,onChange:function(e){h(e.target.value)},placeholder:"youtube url...",autoFocus:!0}),l.a.createElement("input",{type:"submit",value:"cast!"}))):l.a.createElement("div",null)))))},v=a(35),E=a.n(v),w=function(e){var t=e.card,a=e.dispatch,c=Object(n.useCallback)((function(e){var c=e.getInternalPlayer().getVideoData().title;a({kind:"update_card",card:Object(r.a)(Object(r.a)({},t),{},{title:c})})}),[t,a]);return l.a.createElement("div",{style:{position:"relative",paddingTop:"56.25%"}},l.a.createElement(E.a,{url:t.uri,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onReady:c}))},G=function(e){e.card;var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){t&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var a=t.current;a&&(a.srcObject=e,a.play())}))}),[t]),l.a.createElement("video",{ref:t,style:{width:"100%",objectFit:"contain"}})};!function(e){e[e.YOUTUBE=0]="YOUTUBE",e[e.NONE=1]="NONE"}(h||(h={}));var C={overflow:"scroll",borderRight:"1px solid black",maxWidth:"300px",flexBasis:"200px"},j=function(e){var t=e.show,a=e.onClose,c=e.dispatch,A=e.backpack,i=Object(n.useState)(h.NONE),r=Object(o.a)(i,2),d=r[0],u=r[1],m=Object(n.useState)(""),b=Object(o.a)(m,2),p=b[0],y=b[1],I=(Object(n.useCallback)((function(e){e.preventDefault(),c({kind:"add_card",card:{kind:"youtube",title:"video",icon:g.a,uri:p,layout:{x:0,y:0,i:Math.random().toString(),w:2,h:2}}}),a(),y("")}),[c,p,a]),A.filter((function(e){return"youtube"===e.kind})));return l.a.createElement(s.b,{style:{background:"none"},isOpen:t,onDismiss:a},l.a.createElement(s.a,{style:{boxShadow:"10px 10px hsla(0, 0%, 0%, 0.5)",fontFamily:'"Alagard"',padding:0,minHeight:"300px",display:"flex",flexDirection:"column"}},l.a.createElement("div",{style:{width:"100%",backgroundColor:Z,userSelect:"none"}},"spells",l.a.createElement("button",{onClick:a},"x")),l.a.createElement("div",{style:{width:"100%",display:"flex",overflow:"hidden",alignItems:"stretch",flexGrow:1}},l.a.createElement("div",{style:C},l.a.createElement("div",{style:d===h.YOUTUBE?{color:"#FFFFFF",backgroundColor:"#000000"}:{color:"#000000",backgroundColor:"#FFFFFF"},onClick:function(){return u(h.YOUTUBE)}},l.a.createElement("img",{src:g.a,width:30})," youtube (",I.length,")"," >")),l.a.createElement("div",{style:C},d===h.YOUTUBE?l.a.createElement("div",null,I.map((function(e){return l.a.createElement("div",null,e.title)}))):l.a.createElement("div",null)))))},O=a(36),M=function(e,t){var a,c=Object(d.a)(e.cards);switch(t.kind){case"add_card":return Object(r.a)(Object(r.a)({},e),{},{cards:[].concat(Object(d.a)(e.cards),[t.card])});case"update_card":var n=c.findIndex((function(e){return e.layout.i===t.card.layout.i}));return c[n]=t.card,Object(r.a)(Object(r.a)({},e),{},{cards:c});case"batch_update_layouts":return Object(r.a)(Object(r.a)({},e),{},{cards:e.cards.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{layout:t.layouts.find((function(t){return t.i===e.layout.i}))||e.layout})}))});case"load_backpack":return Object(r.a)(Object(r.a)({},e),{},{myBackpack:t.backpack});case"add_to_backpack":var l=[].concat(Object(d.a)(e.myBackpack),[t.card]);a=l,localStorage.setItem("myBackpack",JSON.stringify(a));var A=e.cards.filter((function(e){return t.card.layout.i!==e.layout.i}));return Object(r.a)(Object(r.a)({},e),{},{cards:A,myBackpack:l});case"add_from_backpack":return Object(r.a)({},e)}},Z="#C39B77";var Y=function(){var e=Object(n.useReducer)(M,{cards:[{kind:"avatar",title:"me",icon:"camera",layout:{i:"1",x:0,y:0,w:2,h:2}}],myBackpack:[]}),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){var e=localStorage.getItem("myBackpack");e&&c({kind:"load_backpack",backpack:JSON.parse(e)})}),[c]);var A=a.cards,i=Object(n.useState)(!1),r=Object(o.a)(i,2),d=r[0],u=r[1],s=Object(n.useState)(!1),b=Object(o.a)(s,2),g=b[0],p=b[1],y=Object(n.useCallback)((function(e){c({kind:"batch_update_layouts",layouts:e})}),[A]);return l.a.createElement("div",{className:"App"},l.a.createElement("header",{style:{backgroundColor:Z,color:"#3A1915",height:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 0px 0px 5px",borderBottom:"1px solid black",fontFamily:'"Alagard", serif'}},l.a.createElement("nav",null,l.a.createElement("div",{onClick:function(){return u(!0)},style:{cursor:"pointer",color:d?Z:"#3A1915",background:d?"#3A1915":Z,display:"inline-block",marginLeft:"10px"}},"spells"),l.a.createElement("div",{onClick:function(){return p(!0)},style:{cursor:"pointer",color:g?Z:"#3A1915",background:g?"#3A1915":Z,display:"inline-block",marginLeft:"10px"}},"backpack"," ",a.myBackpack.length>0&&"(".concat(a.myBackpack.length,")"))),l.a.createElement("nav",null,"DungeonCard")),l.a.createElement(k,{show:d,onClose:function(){return u(!1)},dispatch:c}),l.a.createElement(j,{show:g,onClose:function(){return p(!1)},dispatch:c,backpack:a.myBackpack}),l.a.createElement(m.a,{onLayoutChange:y,cols:12,rowHeight:100,width:window.innerWidth,autoSize:!0,compactType:null,margin:[30,30],isResizable:!0,resizeHandles:["se"]},A.map((function(e,t){return l.a.createElement("div",{key:e.layout.i,"data-grid":e.layout,style:{backgroundColor:"sandybrown",display:"flex",flexFlow:"column",boxShadow:"5px 5px hsla(0, 0%, 0%, 0.5)"}},l.a.createElement("div",{style:{flex:"0 1 auto",fontFamily:'"Alagard"',fontSize:"18px",backgroundColor:"#C39B77",userSelect:"none",display:"flex",justifyContent:"space-between"}},l.a.createElement("div",null,l.a.createElement("img",{src:e.icon,height:12})," ",Object(O.truncate)(e.title,{length:24})),l.a.createElement("div",null,!("avatar"===e.kind)&&l.a.createElement("button",{onClick:function(){return c({kind:"add_to_backpack",card:e})}},"b"))),l.a.createElement("div",{style:{overflow:"hidden"}},"avatar"===e.kind?l.a.createElement(G,{card:e}):l.a.createElement(w,{card:e,dispatch:c})))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAqCAIAAACMZMq1AAAACXBIWXMAAAE7AAABOwEf329xAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA5LTI0VDIyOjExOjQzLTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wOS0yNFQyMjoxNToxNi0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wOS0yNFQyMjoxNToxNi0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2ZmQ3ZmI4MC05YWM1LTRlNGYtOTJlNS1kZDQ2MGU4Mzg3ZWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4NzllODc2Mi0yY2MzLTUzNDEtOTJjMi1lZDczZTNjOWRmMzMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplZmI4OTBjMi0wNjRhLTMwNDgtOWI0NC00Y2ZmMWU2ZmU0NWUiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmVmYjg5MGMyLTA2NGEtMzA0OC05YjQ0LTRjZmYxZTZmZTQ1ZSIgc3RFdnQ6d2hlbj0iMjAyMC0wOS0yNFQyMjoxMTo0My0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ZmQ3ZmI4MC05YWM1LTRlNGYtOTJlNS1kZDQ2MGU4Mzg3ZWMiIHN0RXZ0OndoZW49IjIwMjAtMDktMjRUMjI6MTU6MTYtMDQ6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6DSZsXAAAA7ElEQVRYhe2ZwQ3DIAxFP1EnKAMwQ7L/DNkhA3gGegBRKeqhDTY/rniX5IT8ZBuMCDlnFOIGR8hevqEKxA04mAH9TCoOC+AxegBHKZmQn6vD6BtpYUfQyxRgMwXYTAE2U4DNQ20lkfoTo9qaX6An0BhrYllCIm8ZMwwycMI4IfYCjVM2lHx4u5BSgQ3MwEe6C+w258DVbNxGwHcGOhqa3QPdexFPQGkbZQionmjDe0D7PB6YAcejhOVYaixgP1GbCYy61hgIeL2RjY27cY9RooMpwGYKsPkDAdmBxA7jGgmyLwB8OtRn1uD9ofsFENoxZGkk/8cAAAAASUVORK5CYII="}},[[40,1,2]]]);
//# sourceMappingURL=main.e3133803.chunk.js.map